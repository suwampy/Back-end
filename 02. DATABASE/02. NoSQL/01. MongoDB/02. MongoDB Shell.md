## 1. 컬렉션과 데이터베이스

1. 데이터베이스와 컬렉션의 삭제와 수정

|명령어|설명|
|-----|----|
|db.dropDatabase()|현재 데이터베이스를 삭제한다. 이 작업 중에는 글로벌 쓰기 Lock이 걸린다|
|db.collection.drop()|collection을 삭제한다. 파라미터로 WriteConcern을 넘길 수 있다.|
|db.collection.renameCollection(바꿀이름)|collection의 이름을 받은 파라미터로 변경한다.|

   - 이름을 바꾸는 명령어는 없다

2. Capped 컬렉션과 뷰
- Capped 컬렉션 : 일반 컬렉션과 다르게 정해진 크기를 초과하게 되면, 자동으로 가장 오래된 데이터를 삭제하게 된다.

`db.createCollection(<컬렉션 이름>, {capped: true, size:<제한할 크기>)`

- Capped 컬렉션은 로그 데이터나 일정 시간 동안만 보관하는 통계 데이터를 보관하고 싶을 때 유용하게 사용할 수 있다.

3. 뷰
- 데이터베이스 안에 쓸 수는 없고 읽을 수만 있는 뷰를 생성할 수 있다.
- 뷰는 미리 설정한 내용에 의해 뷰를 불러올 때마다 실제로 데이터를 저장한 컬렉션으로부터 데이터를 모아서 데이터를 출력하게 된다.

4. 데이터베이스 상태조회

|명령어|설명|
|-----|----|
|db.getCollectiononInfos()|현재 데이터베이스의 컬렉션들의 정보를 리스트로 반환한다. 이름과 타입, UUID 정보를 얻는다.|
|db.serverStatus()| 호스트, 프로세스 id, Lock 옵션, 스토리지 엔진 이름, 스토리지 엔진 통계와 같은 정보를 제공|
|db.stats()| 데이터베이스 내의 컬렉션, 뷰, 오브젝트의 개수와 크기에 대한 통계를 제공한다|

5. 컬렉션 상태 조회

|명령어|설명|
|-----|----|
|db.collection.isCapped()|컬렉션이 Capped 컬렉션이면 true 값을 반환한다.|
|db.collection.latencyStats()|컬렉션의 지연 시간 통계를 보여준다.|
|db.collection.stats()|데이터베이스의 stats와 같이 컬렉션의 크기, 도큐먼트 개수 및 스토리지 엔진의 통계를 제공한다.|
|db.collection.storageSize()|컬렉션 스토리지의 크기를 반환한다.|
|db.collection.totalIndexSize()|컬렉션의 인덱스 크기를 반환한다.|
|db.collection.totalSize()|컬렉션의 스토리지와 인덱스 크기의 합을 반환한다.|
